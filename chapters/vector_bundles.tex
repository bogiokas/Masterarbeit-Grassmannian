\chapter{Vector Bundles}\label{chap:vector_bundles}
The discussion in this chapter is based on the Chapters 2,3,4 of \cite{char_class} and its goal is first to investigate the notion of vector bundles and the additional structure they provide, when compared to the general fiber bundles (see Appendix~\ref{app:fiber_bundles}). Then, at the end of the chapter, for each vector bundle we define the associated ``Stiefel-Whitney classes'' to be some sequence of elements in the cohomology ring of the base space, one for each dimension. As they are defined to be invariant under bundle isomorphisms, they can be used to distinguish between non-isomorphic vector bundles.

\section{Basic Notions}
Let us begin with the definition of a vector bundle. This will be the same as Definition~\ref{def:fiber_bundle}, differing only on two aspects. First of all the fibers are now vector spaces and secondly the homeomorphisms making the total space locally trivial are now linear isomorphisms over each fiber:

\begin{definition}\label{def:vector_bundle} Let $E$ and $B$ be some topological spaces and $n\in\mathbb{N}$. A continuous map $\xi:E\to B$ is called an \ul{$\mathbb{R}^n$-vector bundle} or \ul{$n$-plane bundle}, if for every $x\in B$ the set $\xi^{-1}(\{x\})$ is a vector space and also for every $x\in B$ there exists an open neighborhood $x\in U\subseteq B$, and a continuous map $f_U:\xi^{-1}(U)\to U\times\mathbb{R}^n$ (where $\xi^{-1}(U)$ has the subspace topology and $U\times\mathbb{R}^n$ the product topology), such that:
\begin{i_enum}
\item $f_U$ is a homeomorphism.
\item  $\xi|_{\xi^{-1}(U)}=\pi_1\circ f_U$, i.e. the following diagram commutes:
\begin{center}
\begin{tikzcd}
E\ar[r,"\supseteq",phantom]&[-1.5em]\xi^{-1}(U)\ar[d,"\xi|_{\xi^{-1}(U)}"']\ar[r,"f_U"]&U\times\mathbb{R}^n\ar[dl,"\pi_1"]\\[2em]
B\ar[r,"\supseteq",phantom]&U
\end{tikzcd}
\end{center}
\item $f_U|_{\xi^{-1}(x)}:\xi^{-1}(x)\to\{x\}\times\mathbb{R}^n$ is linear for every $x\in U$.
\end{i_enum}
$B$ is then called \ul{base space} and $E$ \ul{total space} of the vector bundle. Moreover, for every $x\in B$, the space $\xi^{-1}(\{x\})$ is called \ul{the fiber over $x$} and is denoted by $F_x$.
\end{definition}
\begin{remark} Since for every $x\in B$ $f_U:U\to U\times\mathbb{R}^n$ is a homeomorphism, Proposition~\ref{prop:same_fiber} gives us that $F_x\cong\mathbb{R}$ as topological spaces through $f_U|_{F_x}$ and since $f_U|_{F_x}$ is also linear, $F_x\cong\mathbb{R}^n$ as vector spaces. So, we can visualize the total space $E$ of the fiber bundle $\xi$ as a collection of $n$-planes, parametrized continuously by elements of $B$.
\end{remark}

\begin{remark}\label{rem:vector_subcover} Let $E\overset{\xi}{\to} B$ be a fiber bundle, $x\in B$ and $U\subseteq B$ an open neighborhood of $x$, $f_U:p^{-1}(U)\to U\times\mathbb{R}^n$ a homeomorphism as in the Definition~\ref{def:vector_bundle}, i.e. it makes the following diagram commute and is linear over each fiber:
\begin{center}
\begin{tikzcd}
\xi^{-1}(U)\ar[d,"\xi|_{\xi^{-1}(U)}"']\ar[r,"f_U"]&U\times\mathbb{R}^n\ar[dl,"\pi_1"]\\
U
\end{tikzcd}
\end{center}
Moreover, let $V\subseteq U$ be some other open neighborhood of $x$. Then, $f_V:=f_U|_{\xi^{-1}(V)}$ is a homeomorphism between $\xi^{-1}(V)$ and $V\times\mathbb{R}^n$ as in the Definition~\ref{def:vector_bundle}, i.e. it makes its associated diagram commute and is linear over each fiber. Indeed, using Remark~\ref{rem:fiber_subcover} we can prove that this makes the associated diagram commute. Since it is a restriction of $f_U$, which is linear over each fiber, $f_V$ is also linear over each fiber and thus satisfies the restrictions of Definition~\ref{def:vector_bundle}.
\end{remark}

Let us now list some examples of vector bundles:
\begin{examples}
\begin{i_enum}
\item For any topological space $B$ and any $n\in\mathbb{N}$ we have the following \emph{trivial} vector bundle:
\[\varepsilon_B^n:B\times\mathbb{R}^n\to B\]
which is the projection on the first coordinate.
\item Let $M$ be a smooth $n$-manifold then its \emph{tangent bundle} $\tau_M:TM\to M$ is the $n$-plane bundle constructed as follows: Let $(U_{\alpha})_{\alpha\in I}$ be an open cover of $M$ and $\mathcal{A}=\big\{(U_{\alpha},\phi_{\alpha}:U_{\alpha}\to\mathbb{R}^n)_{\alpha\in I}\big\}$ be a smooth atlas of $M$. Fix any point $x\in M$ and some $(U,\phi)\in\mathcal{A}$ such that $x\in U$. Then we define the tangent space at $x$ to be the set of all possible \emph{tangent vectors} at $x$ inside $M$, i.e. the following set of equivalence classes:
\[T_xM:=\faktor{\left\{\gamma:\mathbb{R}\to M\ |\ \gamma(0)=x\text{ and }\phi\circ\gamma\text{ smooth}\right\}}{\sim}\]
where $\gamma_1\sim\gamma_2$ iff $(\phi\circ\gamma_1)'(0)=(\phi\circ\gamma_2)'(0)$. This set can be given an $\mathbb{R}$-vector space structure as follows:
\[\lambda_1\cdot[\gamma_1]+\lambda_2\cdot[\gamma_2]:=\left[\phi^{-1}\circ\big(\lambda_1(\phi\circ\gamma_1)+\lambda_2(\phi\circ\gamma_2)\big)\right]\]
Notice that $T_xM$ does not depend on the choice of $(U,\phi)\in\mathcal{A}$. Indeed, since the atlas is smooth and $U_{\alpha}$ are open, every transition map $\phi_{\alpha}\circ\phi_{\beta}:\mathbb{R}^n\to\mathbb{R}^n$ has an invertible Jacobi matrix and thus the equivalence relation is the same under any $\phi$. Then, we define the total space of the tangent bundle of $M$ to be the set of all possible tangent vectors at any point of $M$, i.e. the following set:
\[TM:=\big\{(x,[\gamma]):x\in M\text{ and }[\gamma]\in T_xM\big\}\]
We now topologize this set as follows: Fix some $(U,\phi)\in\mathbb{A}$, then we define the following map:
\begin{center}
\begin{tikzcd}
TM\ar[r,phantom,"\supseteq"]&[-2em]\pi_1^{-1}(U)\ar[r]&U\times\mathbb{R}^n\\[-1.5em]
&(x,[\gamma])\ar[r,mapsto]&(x,(\phi\circ\gamma)'(0))
\end{tikzcd}
\end{center}
This induces a topology on $\pi_1^{-1}(U)$ and since the transition maps are open maps, this topology is well defined on every $U_{\alpha}\cap U_{\beta}$. This defines a topology on $TM$. The vector bundle $\tau_{M}:TM\to M$ is exactly the function $\pi_1(x,[\gamma])=x$ we used above, so the local triviality is true by the definition of the topology.
\item Let $M$ be a smooth $n$-manifold embedded in $\mathbb{R}^d$. Then its \emph{normal bundle} $\nu_{M,d}:N_dM\to M$ is the $d-n$-plane bundle \emph{orthogonal} to $\tau_M$, i.e.
\[N_dM:=\big\{(x,v)\in M\times\mathbb{R}^d:x\in M\text{ and }\forall[\gamma]\in T_xM\ v\perp\gamma'(0)\in\mathbb{R}^d\big\}\]
and it is easy to see how the fibers are vector spaces and how the total space is topologised. The vector bundle $\nu_{M,d}$ is again the projection on the first coordinate, but notice that this vector bundle depends on the ambient space the $M$ lives in, while the tangent bundle we defined above is an intrinsic construction, i.e. independent of any embedding.
\item There exists a natural $1$-plane bundle (also: \emph{line bundle}) over each $n$ dimensional real projective space: the \emph{tautological} line bundle
\begin{center}
\begin{tikzcd}
\gamma_n^1:\big\{(l,v)\in\mathbb{R}P^n\times\mathbb{R}^{n+1}:v\in l\big\}\ar[r]&\mathbb{R}P^n\\[-1.5em]
(l,v)\ar[r,mapsto]&l
\end{tikzcd}
\end{center}
The total space of this bundle is topologised as a subspace of $\mathbb{R}P^n\times\mathbb{R}^{n+1}$, where the $n$-dimensional projective space is defined to be the set of all lines through the origin in $\mathbb{R}^{n+1}$, topologized as the following quotient:
\[\mathbb{R}P^n=\{l\subseteq\mathbb{R}^{n+1}:l\text{ vector space with }\dim l=1\}\cong\faktor{S^n}{x\sim-x}\]
We need to show that the total space is locally homeomorphic to a trivial bundle with the homeomorphism being linear isomorphism on each fiber. We use the standard open cover of $\mathbb{R}P^n$ which makes it a manifold, the one we also used in Lemma~\ref{lem:gr_manifold}: Let $l\in\mathbb{R}P^n$ and define $U:=\{l'\in\mathbb{R}P:l'\cap l^{\perp}=\{0\}\}$. Fix also some $v\in l\setminus\{0\}$. Then, we can define $f_U:(\gamma_n^1)^{-1}(U)\to\mathbb{R}P^n\times\mathbb{R}$ as follows:
\[f_U(l',v')=(l',v'^tv)\]
this is continuous and linear over each fiber and since $v'^tv\neq0$ for $v'\neq0$, $f_U$ is also a homeomorphism.
\end{i_enum}
\end{examples}

Now that we have seen some examples for the objects we are interested in, it is time to define morphisms between these objects, in order to be able to differentiate them and construct new ones from old. Compared to the Definition~\ref{def:bundle_map} of the bundle map, we also need for it to respect the vector space structure over each fiber.

\begin{definition}
Let $\xi_1:E_1\to B$ be an $n$-plane vector bundle and $\xi_2:E_2\to B$ be an $m$-plane vector bundle. A continuous map $\phi:E_1\to E_2$ is a \ul{vector bundle map from $\xi_1$ to $\xi_2$ over $B$}, if
\begin{i_enum}
\item $\xi_1=\xi_2\circ\phi$, i.e. if the following diagram commutes:
\begin{center}
\begin{tikzcd}
E_1\ar[rd,"\xi_1"']\ar[rr,"\phi"]&[-2em]&[-2em]E_2\ar[ld,"\xi_2"]\\
&B
\end{tikzcd}
\end{center}
\item $\phi|_{\xi_1^{-1}(x)}:\xi_1^{-1}(x)\to\xi_2^{-1}(x)$ is linear for every $x\in B$.
\end{i_enum}
\end{definition}
\begin{remark} Using Proposition~\ref{prop:fiberwise}, we can characterize vector bundle maps by their local behavior: Let $\phi:E_1\to E_2$ be a continuous map. Then, $\phi$ is a vector bundle map if and only if
\begin{i_enum}
\item $\phi|_{\xi_1^{-1}(x)}(\xi_1^{-1}(x))\subseteq\xi_2^{-1}(x)$ for every $x\in B$ and
\item $\phi|_{\xi_1^{-1}}:\xi_1^{-1}(x)\to\xi_2^{-1}(x)$ is linear for every $x\in B$.
\end{i_enum}
\end{remark}

\begin{definition} Let $\xi_1:E_1\to B$ be an $n$-plane bundle and $\xi_2:E_2\to B$ be an $m$-plane bundle and let $\phi:E_1\to E_2$ be a vector bundle map from $\xi_1$ to $\xi_2$ over $B$. The map $\phi$ is called a \emph{vector bundle isomorphism} if $\phi$ is a homeomorphism.
\end{definition}
\begin{remark}\label{rem:global_to_local_iso_vector} Using Proposition~\ref{prop:global_to_local_iso} we deduce that a vector bundle isomorphism $\phi$ induces a homeomorphism $\xi_1^{-1}(x)\cong\xi_2^{-1}(x)$ over each fiber. Since $\phi|_{\xi_1^{-1}(x)}$ is also linear, $\xi_1^{-1}(x)\cong\xi_2^{-1}(x)$ as vector spaces and thus $n=m$.
\end{remark}

Up to this point, our discussion about vector bundles mirrors the discussion on the fiber bundles of Appendix~\ref{app:fiber_bundles}. The fact that each fiber is a vector space is just an additional structure we carry around through the definitions. The next proposition however is indicative of how much more restrictive the notion of a vector bundle is. In particular we directly prove that an inverse of Remark~\ref{rem:global_to_local_iso_vector} is always true. Compare this to counterexample~\ref{ex:counterexample} and Theorem~\ref{thm:local_to_global_iso}.

\begin{proposition} Let $\xi_1:E_1\to B$ and $\xi_2:E_2\to B$ be two $n$-plane vector bundles. Moreover, let $\phi:E_1\to E_2$ be a vector bundle map such that its restriction
\[\phi_x:\xi_1^{-1}(x)\to\xi_2^{-1}(x)\]
with $\phi_x(v)=\phi(v)$ is a vector space isomorphism for every $x\in B$. Then $\phi$ is also a homeomorphism and thus a vector bundle isomorphism.
\end{proposition}
\begin{proof} First of all, it is easy to see that $\phi$ is a bijection:
\begin{itemize}
\item Let $u_1,u_2\in E_1$ and $\phi(u_1)=\phi(u_2)$. Since $\phi$ is a vector bundle map, we have:
\[\xi_1(u_1)=\xi_2(\phi(u_1))=\xi_2(\phi(u_2))=\xi_1(u_2)=:x_0\]
So, $u_1,u_2\in\xi_1^{-1}(x_0)$ and $\phi_{x_0}(u_1)=\phi(u_1)=\phi(u_2)=\phi_{x_0}(u_2)$. Since $\phi_{x_0}$ is injective, $u_1=u_2$, which proves that $\phi$ is injective as well.
\item Let $v\in E_2$. For $x_0:=p_2(v)$, we have that $v\in\xi)2^{-1}(x_0)$. Since $\phi_{x_0}$ is surjective, there exists some $u\in\xi_1^{-1}(x_0)\subseteq E_1$ with $\phi(u)=\phi_{x_0}(u)=v$, proving that $\phi$ is also surjective.
\end{itemize}
It now remains to prove that $\phi^{-1}$ is continuous as well. For every $x\in B$, there exist open neighborhoods $U_1,U_2$ of $x$, such that $\xi_1^{-1}(U_1)$ is isomorphic to $U_1\times\mathbb{R}^n$ and $\xi_2^{-1}(U_2)$ is isomorphic to $U_2\times F_2$, satisfying the commutative diagrams of the Definition~\ref{def:vector_bundle}. Let $U_x:=U_1\cap U_2$. Then, as seen in Remark~\ref{rem:vector_subcover}, $U$ satisfies the requirements of the \ref{def:vector_bundle}. This means that there exist homeomorphisms $(f_1)_{U_x}:\xi_1^{-1}(U_x)\to U_x\times\mathbb{R}^n$ and $(f_2)_{U_x}:\xi_2^{-1}(U_x)\to U_x\times\mathbb{R}^n$ making the following diagrams commute and being linear over each fiber:
\begin{center}
\begin{tikzcd}
\xi_1^{-1}(U_x)\ar[d,"\xi_1|_{\xi_1^{-1}(U_x)}"']\ar[r,"(f_1)_{U_x}"]&U_x\times\mathbb{R}^n\ar[dl,"\pi_1"]&&
\xi_2^{-1}(U_x)\ar[d,"\xi_2|_{\xi_2^{-1}(U_x)}"']\ar[r,"(f_2)_{U_x}"]&U_x\times\mathbb{R}^n\ar[dl,"\pi_1"]\\
U&&&U
\end{tikzcd}
\end{center}
Let $\mathcal{U}=\{U_x:x\in B\}$. Since $\{\xi_2^{-1}(U):U\in\mathcal{U}\}$ forms an open cover of $E_2$, it suffices to show that $\phi^{-1}|_{\xi_2^{-1}(U)}$ is continuous for every $U\in\mathcal{U}$ and then apply the glueing lemma. Let us fix such a $U\in\mathcal{U}$. Then, the above commutative diagrams let us define the map $\psi:U\times\mathbb{R}\to U\times\mathbb{R}$ as the following composition:
\vspace*{-1em}
\begin{center}
\begin{tikzcd}
U\times\mathbb{R}^n\ar[r,"\cong"',"(f_1)_U^{-1}"]\ar[drr,"\pi_1"',near start]\ar[rrrr,bend left=15,dotted,"\psi"]&[2em]\xi_1^{-1}(U)\ar[rr,"\phi|_{\xi_1^{-1}(U)}"]\ar[dr,"\xi_1"',near start]&[-1em]&[-1em]\xi_2^{-1}(U)\ar[r,"\cong"',"(f_2)_U"]\ar[dl,"\xi_2",near start]&[2em]U\times\mathbb{R}^n\ar[dll,"\pi_1",near start]\\[2em]
&&U
\end{tikzcd}
\end{center}
This means that the map $\psi$ has the following properties:
\begin{itemize}
\item $\psi$ is continuous and a bijection.
\item For every $x\in U$ there exists some linear map $\psi_x:\mathbb{R}^n\to\mathbb{R}^n$ such that $\psi(x,v)=(x,\psi_x(v))$. Moreover, $\psi_x\in GL(n)$, since the following diagram commutes for every $x\in U$:
\vspace*{-1em}
\begin{center}
\begin{tikzcd}
\mathbb{R}^n\ar[r,"\cong"']\ar[rrrrr,bend left=15,"\psi_x"]&\{x\}\times\mathbb{R}^n\ar[r,"\cong"']&\xi_1^{-1}(x)\ar[r,"\cong"',"\phi_x"]&\xi_2^{-1}(x)\ar[r,"\cong"']&\{x\}\times\mathbb{R}^n\ar[r,"\cong"']&\mathbb{R}^n
\end{tikzcd}
\end{center}
\item $\phi^{-1}|_{\xi_2^{-1}(U)}=(\phi|_{\xi_1^{-1}(U)})^{-1}$ is continuous if and only if $\psi^{-1}$ is continuous.
\end{itemize}
Essentially, we have reduced the problem to the case of $E_1,E_2$ both being the trivial vector bundle $U\times\mathbb{R}^n$ and $\psi:U\times\mathbb{R}^n\to U\times\mathbb{R}^n$.

We now want to prove that the function $U\to GL(n)$ with $x\mapsto\psi_x$ is continuous. Let us fix a basis $e_1,\ldots,e_n$ of $\mathbb{R}^n$ and write $\psi_x=(a_{i,j}(x))_{i,j\in[n]}\in GL(n)$ as a matrix in that basis. Then, it suffices to prove that $a_{i,j}:U\to\mathbb{R}$ is continuous for every $i,j\in[n]$, since $GL(n)$ is topologised as a subset of $\mathbb{R}^{n^2}$. This is true, since $a_{i,j}$ can be written as the following composition:
\begin{center}
\begin{tikzcd}
U\ar[r,hook]&U\times\mathbb{R}^n\ar[r,"\psi"]&U\times\mathbb{R}^n\ar[r,"\pi_2"]&\mathbb{R}^n\ar[r,two heads,"\pi_i"]&\mathbb{R}\\[-1.5em]
x\ar[r,mapsto]&(x,e_j)\ar[r,mapsto]&(x,\psi_xe_j)\ar[r,mapsto]&\psi_xe_j\ar[r,mapsto]&e_i^t\psi_xe_j\ar[r,phantom,"="]&[-2em]a_{i,j}(x)
\end{tikzcd}
\end{center}

Now, notice that $GL(n)$ is a topological group, so the inverse function is continuous, i.e. the function $U\to GL(n)$ with $x\mapsto\psi_x^{-1}$ is continuous. This finally means that $\psi^{-1}$ is also continuous, as it is the following composition:
\begin{center}
\begin{tikzcd}
U\times\mathbb{R}^n\ar[r]&U\times GL(n)\times\mathbb{R}^n\ar[r]&U\times\mathbb{R}^n\\[-1.5em]
(x,v)\ar[r,mapsto]&(x,\psi_x^{-1},v)\ar[r,mapsto]&(x,\psi_x^{-1}v)\ar[r,phantom,"="]&[-2em]\psi^{-1}(x,v)
\end{tikzcd}
\end{center}
Thus, $\phi^{-1}$ is also continuous, which proves the claim.
\end{proof}





